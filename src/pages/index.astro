---
import { getCollection } from "astro:content";

import Entry from "../components/Entry.astro";
import MainLayout from "../layouts/MainLayout.astro";

import { SITE_TITLE, SITE_DESCRIPTION, SITE_LOGO } from "../config";

const posts = (await getCollection("posts")).sort(
	(a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);
---

<MainLayout title={SITE_TITLE} description={SITE_DESCRIPTION} image={SITE_LOGO}>
	<ul>
		{posts.map((post) => <Entry post={post} />)}
	</ul>
</MainLayout>
